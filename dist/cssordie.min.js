(function(){function cleanup(){document.querySelectorAll(".css-panel").forEach(el=>el.remove());const existingStyle=document.querySelector("#css-styles");if(existingStyle)existingStyle.remove()}cleanup();const fragment=document.createDocumentFragment();const messages={ui:{panelTitle:"CSS or Die",tagsTitle:"Forbidden Tags",attributesTitle:"Forbidden Attributes",noTagsTitle:"No forbidden tags found",noAttributesTitle:"No forbidden attributes found",escapeHint:"Use <kbd>Esc</kbd> to close panel"},buttons:{close:"Close",darkLight:"Dark/Light",screenReaderLabels:{panel:" the panel",mode:" mode toggle"}}};const style=document.createElement("style");style.id="css-or-die-style";style.textContent=`\n    .css-panel {\n      position: fixed;\n      top: 10px;\n      left: 10px;\n      background: #fff;\n      color: #000;\n      padding: 15px;\n      border-radius: 5px;\n      box-shadow: 0 0 10px rgba(0, 0, 0, .2);\n      z-index: 99999;\n      max-width: 400px;\n      max-height: 70vh;\n      overflow: auto;\n      font-family: -apple-system, system-ui, sans-serif;\n    }\n    #css-panel-title {\n      font-size: 1.2em;\n      font-weight: bold;\n      margin: 0 0 0.5em 0;\n    }\n    .css-panel h2 {\n      font-size: 1em;\n      margin-top: 1em;\n      margin-bottom: 0.3em;\n    }\n    .css-panel code {\n      background: #f5f5f5;\n      padding: 0.1rem 0.3rem;\n      border-radius: 3px;\n    }\n    .css-panel details {\n      margin-bottom: 0.5em;\n    }\n    .css-panel p {\n      font-size: 1em;\n    }\n    .css-footer {\n      display: flex;\n      flex-direction: column;\n    }\n    .css-btn {\n      margin: 5px;\n      padding: 5px 10px;\n      border: none;\n      border-radius: 3px;\n      background: #0d6efd;\n      color: #fff;\n      font-size: .8em;\n      cursor: pointer;\n    }\n    .css-btn:focus {\n      outline: 2px solid #0d6efd;\n      outline-offset: 2px;\n      box-shadow: 0 0 10px rgba(13, 110, 253, 0.25);\n    }\n    .css-empty {\n      color: green;\n      font-weight: bold;\n    }\n    @media (forced-colors: active) {\n      .css-btn:focus {\n        outline: 3px solid #000;\n        outline-offset: 3px;\n      }\n    }\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n        transform: translateY(-8px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n    @media (prefers-reduced-motion: no-preference) {\n      .css-panel {\n        animation: fadeIn 0.5s ease-out;\n      }\n    }\n    @media (prefers-color-scheme: dark) {\n      .css-panel {\n        background: #1e1e1e;\n        color: #f0f0f0;\n      }\n      .css-panel code {\n        background: #333333;\n        color: #4bb4e6;\n      }\n    }\n    body.css-dark .css-panel {\n      background: #1e1e1e;\n      color: #eee;\n    }\n    body.css-dark .css-panel code {\n      background: #333333;\n      color: #4bb4e6;\n    }\n    .visually-hidden {\n      border: 0 !important;\n      clip: rect(1px, 1px, 1px, 1px) !important;\n      -webkit-clip-path: inset(50%) !important;\n        clip-path: inset(50%) !important;\n      height: 1px !important;\n      margin: -1px !important;\n      overflow: hidden !important;\n      padding: 0 !important;\n      position: absolute !important;\n      width: 1px !important;\n      white-space: nowrap !important;\n    }\n  `;fragment.appendChild(style);const forbiddenTags=["basefont","big","blink","center","font","marquee","s","strike","tt"];if(document.doctype?.name?.toLowerCase()!=="html"){forbiddenTags.push("u")}const forbiddenAttrs=["align","alink","background","bgcolor","border","cellpadding","cellspacing","char","charoff","clear","compact","color","frameborder","hspace","link","marginheight","marginwidth","text","valign","vlink","vspace"];const tagResults=forbiddenTags.map(tag=>({tag:tag,elements:Array.from(document.getElementsByTagName(tag))})).filter(r=>r.elements.length>0);const attrResults=[];document.querySelectorAll("*").forEach(el=>{forbiddenAttrs.forEach(attr=>{if(el.hasAttribute(attr)){attrResults.push({el:el,attr:attr})}});if(el.hasAttribute("width")||el.hasAttribute("height")){const allowedTags=["img","object","embed","video","canvas","svg","iframe"];if(!allowedTags.includes(el.tagName.toLowerCase())){if(el.hasAttribute("width"))attrResults.push({el:el,attr:"width"});if(el.hasAttribute("height"))attrResults.push({el:el,attr:"height"})}}});const tagList=tagResults.length?tagResults.map(r=>`\n      <details open>\n        <summary><code>&lt;${r.tag}&gt;</code> (${r.elements.length})</summary>\n        <ul>\n          ${r.elements.map(el=>`<li><code>${el.outerHTML.replace(/</g,"&lt;").slice(0,80)}...</code></li>`).join("")}\n        </ul>\n      </details>\n    `).join(""):`<p class="css-empty">${messages.ui.noTagsTitle}</p>`;const attrList=attrResults.length?`<ul>${attrResults.map(r=>`<li><code>${r.attr}</code> on <code>&lt;${r.el.tagName.toLowerCase()}&gt;</code></li>`).join("")}</ul>`:`<p class="css-empty">${messages.ui.noAttributesTitle}</p>`;const panel=document.createElement("div");panel.className="css-panel";panel.setAttribute("role","dialog");panel.setAttribute("aria-modal","true");panel.setAttribute("aria-labelledby","css-panel-title");panel.innerHTML=`\n    <p id="css-panel-title">${messages.ui.panelTitle}</p>\n    <h2>${messages.ui.tagsTitle} (${tagResults.reduce((sum,r)=>sum+r.elements.length,0)})</h2>\n    ${tagList}\n    <h2>${messages.ui.attributesTitle} (${attrResults.length})</h2>\n    ${attrList}\n    <div class="css-footer">\n      <button class="css-btn" id="css-cleanup">\n      ${messages.buttons.close}\n      <span class="visually-hidden">${messages.buttons.screenReaderLabels.panel}</span>\n      </button>\n      <button class="css-btn" id="css-theme">\n      ${messages.buttons.darkLight}\n      <span class="visually-hidden">${messages.buttons.screenReaderLabels.mode}</span>\n      </button>\n    </div>\n    <p>\n      <small>${messages.ui.escapeHint}</small>\n    </p>\n  `;fragment.appendChild(panel);requestAnimationFrame(()=>{document.body.insertBefore(fragment,document.body.firstChild);const panel=document.querySelector(".css-panel");if(panel){const firstButton=panel.querySelector("button");if(firstButton){firstButton.focus()}panel.addEventListener("keydown",e=>{if(e.key==="Escape"){cleanup();document.activeElement?.blur()}})}let isDarkMode=false;const themeButton=document.getElementById("css-theme");if(themeButton){themeButton.setAttribute("aria-pressed","false");themeButton.addEventListener("click",()=>{isDarkMode=!isDarkMode;themeButton.setAttribute("aria-pressed",isDarkMode?"true":"false");requestAnimationFrame(()=>{document.body.classList.toggle("css-dark")})})}const cleanupButton=document.getElementById("css-cleanup");if(cleanupButton){cleanupButton.addEventListener("click",cleanup)}})})();